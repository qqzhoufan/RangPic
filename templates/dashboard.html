{{define "dashboard.html"}}
{{template "layout.html" .}}
{{define "content"}}
<header>
    <h1 class="title">图片列表</h1>
    <p>在这里管理您的所有图片。</p>
    <a href="/admin/add" role="button">添加新图片</a>
</header>
<figure>
    <table role="grid">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">预览</th>
                <th scope="col">URL</th>
                <th scope="col">Tags</th>
                <th scope="col">操作</th>
            </tr>
        </thead>
        <tbody>
            {{range .images}}
            <tr>
                <td>{{.ID}}</td>
                <td><a href="{{.URL}}" target="_blank"><img src="{{.URL}}" alt="预览" class="preview-img"></a></td>
                <td><a href="{{.URL}}" target="_blank">{{.URL}}</a></td>
                <td>{{join .Tags ", "}}</td>
                <td>
                    <a href="/admin/edit?id={{.ID}}" role="button" class="outline">编辑</a>
                    <form method="post" action="/admin/delete" style="display:inline;">
                        <input type="hidden" name="id" value="{{.ID}}">
                        <button type="submit" class="secondary" onclick="return confirm('确定删除吗？');">删除</button>
                    </form>
                </td>
            </tr>
            {{else}}
            <tr>
                <td colspan="5" style="text-align: center;">还没有任何图片，请先 <a href="/admin/add">添加一张</a>。</td>
            </tr>
            {{end}}
        </tbody>
    </table>
</figure>
{{end}}
{{end}}
